<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <title>Comments</title>
</head>

<body>
    <script>
        $(document).ready(function () {

            //Create Upvote Ajax
            $("#upvote").click(function () {
                var upvoteUser = $("#upvoteuser").val();
                var upvotePost = $("#upvotepost").val();
                const obj = {
                    author_id: upvoteUser,
                    post_id: upvotePost,
                };
                const data = JSON.stringify(obj);
                $.ajax({
                    url: "http://localhost:8000/api/post_votes/createUpvote/",
                    type: "POST",
                    data: data,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data, textStatus, xhr) {
                        alert("Upvoted successfully!!!!");
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log("Error in Operation");
                    },
                });
                return false;
            });

            //Create Downvote Ajax
            $("#downvote").click(function () {
                var downvoteUser = $("#downvoteuser").val();
                var downvotePost = $("#downvotepost").val();
                const obj = {
                    author_id: downvoteUser,
                    post_id: downvotePost,
                };
                const data = JSON.stringify(obj);
                $.ajax({
                    url: "http://localhost:8000/api/post_votes/createDownvote/",
                    type: "POST",
                    data: data,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data, textStatus, xhr) {
                        alert("Downvote successfully!!!!");
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log("Error in Operation");
                    },
                });
                return false;
            });

        });

    </script>

    <!-- Create Upvote -->
    <form>
        <h3>Create Upvote</h3>
        <label for="author">Author ID: </label>
        <input type="number" id="upvoteuser" name="upvoteuser" /><br /><br />
        <label for="post">Post ID: </label>
        <input type="number" id="upvotepost" name="upvotepost" /><br /><br />
        <input type="submit" value="Upvote" id="upvote" />
    </form>

    <!-- Create Downvote -->
    <form>
        <h3>Create Downvote</h3>
        <label for="author">Author ID: </label>
        <input type="number" id="downvoteuser" name="downvoteuser" /><br /><br />
        <label for="post">Post ID: </label>
        <input type="number" id="downvotepost" name="downvotepost" /><br /><br />
        <input type="submit" value="Downvote" id="downvote" />
    </form>

</body>

</html>