<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" href="./css/post.css">
    <title>Posts</title>
</head>

<body>
    <script>
        $.ajax({
            //headers: {
            //   'authorization': 'Bearer ' + tmpToken
            //},
            url: 'http://localhost:8000/api/posts',
            type: 'GET',
            data: data,
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            success: function (data, textStatus, xhr) {
                if (data != null) {
                    var html = "";

                    for (i = 0; i < data.length; i++) {
                        html += `<div class="col-3">
                                <a href="selected.html?gameid=${data[i].id}" >                                        
                                            <p>${data[i].title}</p>
                                            <p class="title"><input type="button" id=${data[i].title} value="View" /> 
                                                </a>                                                                             
                                    </div>`
                        tmpTitleArray.push(data[i].title);
                    }
                    localStorage.setItem('userInfo', data);
                    $("#title").html(html);
                    // document.getElementById("title").innerHTML = html;

                    console.log(html)
                    console.log(data)
                } else {
                    console.log("Error");
                    console.log(data)
                }
            },
            error: function (xhr, textStatus, errorThrown) {
                console.log('Error in Operation');
            }
        });
    </script>

    <nav class="col-3"></nav>

    <nav class="col-3" id="name">
        <div class="row">
            <div class="col" style="padding: 0;">
                <p id="username" style="margin-bottom: 0; margin-top: 0;"></p>
                <p id="userrole" style="font-size: 10; color: grey; margin-top: 0; margin-bottom: 0;"></p>
            </div>
            <p class="col"><input type="button" id="Logout" value="Log Out" /></p>
        </div>
    </nav>
    </nav>
</body>